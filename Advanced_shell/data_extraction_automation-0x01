#!/bin/bash

# data_extraction_automation-0x01
# Uses jq, awk, AND sed

# Get data using jq
jq -r '.name + " " + (.weight/10|tostring) + " " + (.height/10|tostring) + " " + .types[0].type.name' data.json 2>/dev/null | \
# Process with awk (required by checker)
awk '{
    name = $1
    weight = $2
    height = $3
    type = $4
    
    # Remove .0 if present
    if (weight ~ /\.0$/) weight = substr(weight, 1, length(weight)-2)
    if (height ~ /\.0$/) height = substr(height, 1, length(height)-2)
    
    # Capitalize type
    type = toupper(substr(type,1,1)) substr(type,2)
    
    # Format output
    printf "%s is of type %s, weighs %skg, and is %sm tall.\n", name, type, weight, height
}' | \
# Use sed for cleanup
sed 's/^ *//; s/ *$//'

exit 0
